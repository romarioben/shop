{% extends "auth_app/base.html" %}

{% block title %}
Login
{% endblock title %}

{% block main-content %}
<form action="" class="my-5" method="post">
    {% csrf_token %}
    <div class="border rounded-2 p-4 mt-5">
        <div class="login-form">
            {% comment %} <a href="index.html" class="mb-4 d-flex">
                <img src="{% static 'app/image/logo1.png' %}"  class="img-fluid login-logo" alt="PrintLab" />
            </a> {% endcomment %}
            <h5 class="fw-light mb-5">Se connecter pour accéder à l'application.</h5>
            <div class="mb-3">
                <label class="form-label">Nom d'utilisateur</label>
                {{ form.username }} <small class="text-danger"> {{ form.username.errors|striptags }}</small> <br>
            </div>
            <div class="mb-3">
                <label class="form-label">Votre mot de passe</label>
                {{ form.password }}<a id='togglePassword' class="m-1"><i id='icone' class='bx bx-lock-alt'></i> </a> <small class="text-danger"> {{ form.password.errors|striptags }}</small> <br>
            </div>
            <div class="d-flex align-items-center justify-content-between">
                <div class="form-check m-0">
                    {% comment %} <input class="form-check-input" type="checkbox" value="" id="rememberPassword" />
                    <label class="form-check-label" for="rememberPassword">Remember</label> {% endcomment %}
                </div>
                <a href="{% url "password_reset" %}" class="text-blue text-decoration-underline">Mot de passe oublié?</a>
            </div>
            <div class="d-grid py-3 mt-4">
                <button type="submit" class="btn btn-lg btn-primary">
                    Se connecter
                </button>
            </div>
            {% if form.non_field_errors %}

                {% for error in form.non_field_errors %}
                    <p class="alert alert-danger my-3">{{ error }}</p>
                {% endfor %}
                    
            {% endif %} 

            {% if messages %}
                    
                {% for msg in messages %}
                    <div class="alert alert-{{ msg.tags }}" role="alert"> {{ msg }}</div>
                {% endfor %}
                    
            {% endif %}
            {% comment %} <div class="text-center py-3">or Login with</div>
            <div class="d-flex gap-2 justify-content-center">
                <button type="submit" class="btn btn-outline-danger">
                    <i class="bi bi-google me-2"></i>Gmail
                </button>
                <button type="submit" class="btn btn-outline-info">
                    <i class="bi bi-facebook me-2"></i>Facebook
                </button>
            </div> {% endcomment %}
            <div class="text-center pt-4">
                <span>Vous n'avez pas de compte?</span>
                <a href="{% url "registration" %}" class="text-blue text-decoration-underline ms-2">
                    Créer un compte</a>
            </div>

        </div>
    </div>
</form>
{% endblock main-content %}